{"remainingRequest":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/babel-loader/lib/index.js!/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/components/Login.vue","mtime":1578643202699},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ForgotModal from '@/components/ForgotPassword.vue';\nimport { mapMutations, mapState } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: \"login\",\n  props: {\n    log: Boolean\n  },\n  components: {\n    ForgotModal: ForgotModal\n  },\n  data: function data() {\n    return {\n      modalOn: false,\n      username: '',\n      password: '',\n      logform: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  methods: _objectSpread({\n    login: function login() {\n      var _this = this;\n\n      this.logform.username = this.username;\n      this.logform.password = this.password;\n      axios.post('http://localhost:4040/users/login', this.logform).then(function (resp) {\n        window.localStorage.setItem('token', resp.data.token);\n\n        _this.userAuth();\n\n        location.href = location.protocol + '//' + location.host + '/#/';\n      });\n    }\n  }, mapMutations(['togglePasswordForget', 'userAuth'])),\n  computed: _objectSpread({\n    displayLog: function displayLog() {\n      if (this.log == false) return false;\n      return true;\n    }\n  }, mapState(['loggedIn'])),\n  mounted: function mounted() {\n    if (this.loggedIn) {\n      location.href = location.protocol + '//' + location.host + '/#/';\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,WAAA,MAAA,iCAAA;AACA,SAAA,YAAA,EAAA,QAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GALA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA;AAJA,KAAA;AASA,GAlBA;AAmBA,EAAA,OAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,OAAA,CAAA,QAAA,GAAA,KAAA,QAAA;AACA,WAAA,OAAA,CAAA,QAAA,GAAA,KAAA,QAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,mCAAA,EAAA,KAAA,OAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,IAAA,CAAA,KAAA;;AACA,QAAA,KAAA,CAAA,QAAA;;AACA,QAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,QAAA,GAAA,IAAA,GAAA,QAAA,CAAA,IAAA,GAAA,KAAA;AACA,OALA;AAMA;AAVA,KAWA,YAAA,CAAA,CACA,sBADA,EAEA,UAFA,CAAA,CAXA,CAnBA;AAmCA,EAAA,QAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,GAAA,IAAA,KAAA,EACA,OAAA,KAAA;AACA,aAAA,IAAA;AACA;AALA,KAMA,QAAA,CAAA,CACA,UADA,CAAA,CANA,CAnCA;AA6CA,EAAA,OAAA,EAAA,mBAAA;AACA,QAAA,KAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,QAAA,GAAA,IAAA,GAAA,QAAA,CAAA,IAAA,GAAA,KAAA;AACA;AACA;AAjDA,CAAA","sourcesContent":["<template>\n  <div class=\"hero-body\" v-if=\"displayLog\">\n    <div class=\"container has-text-centered\">\n      <div class=\"column is-4 is-offset-4\">\n        <div class=\"box\">\n          <h3 class=\"title has-text-grey\">Lovr</h3>\n          <div class=\"field\">\n            <label class=\"label\">Username</label>\n            <div class=\"control\">\n              <input required class=\"input is-medium\" type=\"text\" v-model=\"username\" placeholder=\"Enter your username or email\">\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <div class=\"control\">\n              <input required class=\"input is-medium\" type=\"password\" v-model=\"password\" placeholder=\"Enter Password\">\n            </div>\n          </div>\n          <div class=\"level\">\n            <div class=\"buttons are-medium level-item\">\n              <a class=\"button is-success\" v-on:click=\"login()\">Login</a>\n              <a class=\"button is-danger\" v-on:click=\"togglePasswordForget()\">Forgot Password</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ForgotModal v-on:click=\"togglePasswordForget()\"></ForgotModal>\n  </div>\n</template>\n\n<script>\nimport ForgotModal from '@/components/ForgotPassword.vue'\nimport { mapMutations, mapState } from 'vuex'\nimport axios from 'axios'\n\nexport default {\n  name: \"login\",\n  props: {\n    log : Boolean\n  },\n  components: {\n    ForgotModal\n  },\n  data() {\n    return {\n      modalOn: false,\n      username: '',\n      password: '',\n      logform: {\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    login(){\n      this.logform.username = this.username\n      this.logform.password = this.password\n      axios.post('http://localhost:4040/users/login', this.logform)\n        .then(resp => {\n          window.localStorage.setItem('token', resp.data.token)\n          this.userAuth()\n          location.href = location.protocol + '//' + location.host + '/#/'\n        })\n    },\n    ...mapMutations([\n      'togglePasswordForget',\n      'userAuth'\n    ])\n  },\n  computed: {\n    displayLog(){\n      if (this.log == false)\n        return false\n      return true\n    },\n    ...mapState([\n      'loggedIn'\n    ])\n  },\n  mounted: function(){\n    if (this.loggedIn) {\n      location.href = location.protocol + '//' + location.host + '/#/'\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}