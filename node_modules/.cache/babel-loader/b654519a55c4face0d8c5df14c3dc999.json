{"remainingRequest":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/babel-loader/lib/index.js!/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/eslint-loader/index.js??ref--13-0!/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/store.js","dependencies":[{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/store.js","mtime":1578643202699},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    loggedIn: false,\n    forgotPasswordModal: false,\n    coords: null,\n    user: null,\n    users: null\n  },\n  mutations: {\n    togglePasswordForget: function togglePasswordForget(state) {\n      state.forgotPasswordModal = !state.forgotPasswordModal;\n    },\n    spliceInterests: function spliceInterests(state, id) {\n      state.user.profile.interests.splice(id, 1);\n    },\n    addGeoCoords: function addGeoCoords(state, coords) {\n      state.coords = new Array();\n      state.coords.push(coords.coords.longitude);\n      state.coords.push(coords.coords.latitude);\n    },\n    addCoords: function addCoords(state, loc) {\n      state.coords = loc;\n    },\n    userAuth: function userAuth(state) {\n      state.loggedIn = true;\n    },\n    logOut: function logOut(state) {\n      state.loggedIn = false;\n    },\n    getUserData: function getUserData(state) {\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.token;\n      axios.get(\"http://localhost:4040/user\").then(function (resp) {\n        return resp.data;\n      }).then(function (data) {\n        if (data.success == null) {\n          state.user = data;\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    getMatches: function getMatches(state) {\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.token;\n      var myHeaders = new Headers();\n      myHeaders.set('Authorization', localStorage.token);\n      fetch(\"http://localhost:4040/users/matches\", {\n        headers: myHeaders\n      }).then(function (res) {\n        return res.json();\n      }).then(function (mJson) {\n        state.users = mJson;\n        console.log(mJson);\n      });\n    },\n    linkUsers: function linkUsers(state, match) {\n      var like = {\n        uid: state.user.id,\n        mid: match.id\n      };\n      var response = null;\n      var myHeaders = new Headers();\n      myHeaders.set('Authorization', localStorage.token);\n      myHeaders.set('Content-Type', 'application/json');\n      fetch(\"http://localhost:4040/users/matches/like\", {\n        headers: myHeaders,\n        body: _JSON$stringify(like),\n        method: 'POST'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (mJson) {\n        return mJson.success;\n      });\n    }\n  },\n  actions: {}\n});",{"version":3,"sources":["/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/store.js"],"names":["Vue","Vuex","axios","use","Store","state","loggedIn","forgotPasswordModal","coords","user","users","mutations","togglePasswordForget","spliceInterests","id","profile","interests","splice","addGeoCoords","Array","push","longitude","latitude","addCoords","loc","userAuth","logOut","getUserData","defaults","headers","common","localStorage","token","get","then","resp","data","success","catch","err","console","log","getMatches","myHeaders","Headers","set","fetch","res","json","mJson","linkUsers","match","like","uid","mid","response","body","method","actions"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    loggedIn: false,\n    forgotPasswordModal: false,\n    coords: null,\n    user: null,\n    users: null\n  },\n  mutations: {\n    togglePasswordForget(state){\n      state.forgotPasswordModal = !state.forgotPasswordModal\n    },\n    spliceInterests(state, id){\n      state.user.profile.interests.splice(id, 1)\n    },\n    addGeoCoords(state, coords){\n      state.coords = new Array()\n      state.coords.push(coords.coords.longitude)\n      state.coords.push(coords.coords.latitude)\n    },\n    addCoords(state, loc){\n      state.coords = loc\n    },\n    userAuth(state){\n      state.loggedIn =  true\n    },\n    logOut(state){\n      state.loggedIn = false\n    },\n    getUserData(state){\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.token\n      axios.get(\"http://localhost:4040/user\")\n      .then(resp => {\n        return resp.data\n      })\n      .then(data => {\n        if (data.success == null) {\n          state.user = data\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n    },\n    getMatches(state){\n      axios.defaults.headers.common[\"Authorization\"] = localStorage.token\n      const myHeaders = new Headers();\n      myHeaders.set('Authorization', localStorage.token)\n      fetch(\"http://localhost:4040/users/matches\",\n        {headers: myHeaders})\n      .then(res => {return res.json()})\n      .then(mJson => {\n        state.users = mJson\n        console.log(mJson)\n      })\n    },\n    linkUsers(state, match) {\n      var like = {\n        uid: state.user.id,\n        mid: match.id\n      }\n      var response = null\n      const myHeaders = new Headers();\n      myHeaders.set('Authorization', localStorage.token)\n      myHeaders.set('Content-Type', 'application/json')\n      fetch(\"http://localhost:4040/users/matches/like\",\n        {headers: myHeaders,\n        body: JSON.stringify(like),\n        method: 'POST'})\n      .then(res => {return res.json()})\n      .then(mJson => {\n        return (mJson.success)\n      })\n    }\n  },\n  actions: {\n  }\n})\n"]}]}