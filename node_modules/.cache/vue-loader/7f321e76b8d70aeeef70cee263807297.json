{"remainingRequest":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/src/components/Login.vue","mtime":1578643202699},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zakhele/go/src/github.com/gmohlamo/matcha-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ForgotModal from '@/components/ForgotPassword.vue'\nimport { mapMutations, mapState } from 'vuex'\nimport axios from 'axios'\n\nexport default {\n  name: \"login\",\n  props: {\n    log : Boolean\n  },\n  components: {\n    ForgotModal\n  },\n  data() {\n    return {\n      modalOn: false,\n      username: '',\n      password: '',\n      logform: {\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    login(){\n      this.logform.username = this.username\n      this.logform.password = this.password\n      axios.post('http://localhost:4040/users/login', this.logform)\n        .then(resp => {\n          window.localStorage.setItem('token', resp.data.token)\n          this.userAuth()\n          location.href = location.protocol + '//' + location.host + '/#/'\n        })\n    },\n    ...mapMutations([\n      'togglePasswordForget',\n      'userAuth'\n    ])\n  },\n  computed: {\n    displayLog(){\n      if (this.log == false)\n        return false\n      return true\n    },\n    ...mapState([\n      'loggedIn'\n    ])\n  },\n  mounted: function(){\n    if (this.loggedIn) {\n      location.href = location.protocol + '//' + location.host + '/#/'\n    }\n  }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"hero-body\" v-if=\"displayLog\">\n    <div class=\"container has-text-centered\">\n      <div class=\"column is-4 is-offset-4\">\n        <div class=\"box\">\n          <h3 class=\"title has-text-grey\">Lovr</h3>\n          <div class=\"field\">\n            <label class=\"label\">Username</label>\n            <div class=\"control\">\n              <input required class=\"input is-medium\" type=\"text\" v-model=\"username\" placeholder=\"Enter your username or email\">\n            </div>\n          </div>\n          <div class=\"field\">\n            <label class=\"label\">Password</label>\n            <div class=\"control\">\n              <input required class=\"input is-medium\" type=\"password\" v-model=\"password\" placeholder=\"Enter Password\">\n            </div>\n          </div>\n          <div class=\"level\">\n            <div class=\"buttons are-medium level-item\">\n              <a class=\"button is-success\" v-on:click=\"login()\">Login</a>\n              <a class=\"button is-danger\" v-on:click=\"togglePasswordForget()\">Forgot Password</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ForgotModal v-on:click=\"togglePasswordForget()\"></ForgotModal>\n  </div>\n</template>\n\n<script>\nimport ForgotModal from '@/components/ForgotPassword.vue'\nimport { mapMutations, mapState } from 'vuex'\nimport axios from 'axios'\n\nexport default {\n  name: \"login\",\n  props: {\n    log : Boolean\n  },\n  components: {\n    ForgotModal\n  },\n  data() {\n    return {\n      modalOn: false,\n      username: '',\n      password: '',\n      logform: {\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    login(){\n      this.logform.username = this.username\n      this.logform.password = this.password\n      axios.post('http://localhost:4040/users/login', this.logform)\n        .then(resp => {\n          window.localStorage.setItem('token', resp.data.token)\n          this.userAuth()\n          location.href = location.protocol + '//' + location.host + '/#/'\n        })\n    },\n    ...mapMutations([\n      'togglePasswordForget',\n      'userAuth'\n    ])\n  },\n  computed: {\n    displayLog(){\n      if (this.log == false)\n        return false\n      return true\n    },\n    ...mapState([\n      'loggedIn'\n    ])\n  },\n  mounted: function(){\n    if (this.loggedIn) {\n      location.href = location.protocol + '//' + location.host + '/#/'\n    }\n  }\n}\n</script>\n"]}]}